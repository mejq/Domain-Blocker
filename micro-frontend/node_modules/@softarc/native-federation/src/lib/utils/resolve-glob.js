"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.resolveGlobSync = resolveGlobSync;
const tslib_1 = require("tslib");
const fs = tslib_1.__importStar(require("fs"));
const path = tslib_1.__importStar(require("path"));
function resolveGlobSync(pattern, baseDir = process.cwd()) {
    if (pattern.startsWith('./')) {
        pattern = pattern.substring(2);
    }
    const segments = pattern.split('/').filter(Boolean);
    const results = [];
    function search(dir, segmentIndex) {
        if (segmentIndex >= segments.length) {
            results.push(dir);
            return;
        }
        const segment = segments[segmentIndex];
        const entries = fs.readdirSync(dir, { withFileTypes: true });
        if (segment === '*') {
            entries
                .filter((entry) => entry.isDirectory())
                .forEach((entry) => search(path.join(dir, entry.name), segmentIndex + 1));
        }
        else {
            entries
                .filter((entry) => entry.name === segment)
                .forEach((entry) => search(path.join(dir, entry.name), segmentIndex + 1));
        }
    }
    search(baseDir, 0);
    return results;
}
//# sourceMappingURL=resolve-glob.js.map