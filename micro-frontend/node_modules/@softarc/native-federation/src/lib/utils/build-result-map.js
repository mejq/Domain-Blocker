"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createBuildResultMap = createBuildResultMap;
exports.lookupInResultMap = lookupInResultMap;
const tslib_1 = require("tslib");
const path_1 = tslib_1.__importDefault(require("path"));
function createBuildResultMap(buildResult, isHashed) {
    const map = {};
    for (const item of buildResult) {
        const resultName = path_1.default.basename(item.fileName);
        let requestName = resultName;
        if (isHashed) {
            const start = resultName.lastIndexOf('-');
            const end = resultName.lastIndexOf('.');
            const part1 = resultName.substring(0, start);
            const part2 = resultName.substring(end);
            requestName = part1 + part2;
        }
        map[requestName] = resultName;
    }
    return map;
}
function lookupInResultMap(map, requestName) {
    const key = path_1.default.basename(requestName);
    return map[key];
}
//# sourceMappingURL=build-result-map.js.map