"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.handleError = handleError;
const user_error_1 = require("../../error/user-error");
const cli_1 = require("../cli");
/**
 * Catches Error for the CLI and prints `UserError` in
 * UI-friendly way. Everything else as it is.
 *
 * @param fn which should be 'error-handled'
 */
function handleError(fn) {
    try {
        fn();
        cli_1.cli.endProcessOk();
    }
    catch (error) {
        if (error instanceof user_error_1.UserError) {
            cli_1.cli.logError(error.message);
        }
        else if (error instanceof Error) {
            cli_1.cli.logError(error.message);
        }
        else {
            cli_1.cli.logError(String(error));
        }
        cli_1.cli.endProcessError();
    }
}
//# sourceMappingURL=handle-error.js.map