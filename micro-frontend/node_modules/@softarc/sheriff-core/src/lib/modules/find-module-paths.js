"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.findModulePaths = findModulePaths;
const find_module_paths_with_barrel_1 = require("./internal/find-module-paths-with-barrel");
const find_module_paths_without_barrel_1 = require("./internal/find-module-paths-without-barrel");
/**
 * Find module paths which can be defined via having a barrel file or the
 * configuration's property `modules`.
 *
 * If a module has a barrel file and an internal, it is of type barrel file.
 */
function findModulePaths(projectDirs, rootDir, sheriffConfig) {
    const { modules, enableBarrelLess, barrelFileName } = sheriffConfig;
    const modulesWithoutBarrel = enableBarrelLess
        ? (0, find_module_paths_without_barrel_1.findModulePathsWithoutBarrel)(modules, rootDir, barrelFileName)
        : [];
    const modulesWithBarrel = (0, find_module_paths_with_barrel_1.findModulePathsWithBarrel)(projectDirs, barrelFileName);
    const modulePaths = {};
    for (const path of modulesWithoutBarrel) {
        modulePaths[path] = false;
    }
    for (const path of modulesWithBarrel) {
        modulePaths[path] = true;
    }
    return modulePaths;
}
//# sourceMappingURL=find-module-paths.js.map